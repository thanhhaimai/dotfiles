[sshd]
# Enable SSH jail
enabled = true

# Use systemd journal on Ubuntu 24.04+
backend = systemd

# Ports and logs
port    = ssh
logpath = %(sshd_log)s

# Ban policy tuned for local network use
maxretry = 4
findtime = 10m
bantime  = 1h

# Prefer UFW integration on Ubuntu to keep firewall state consistent
banaction = ufw
action = %(action_)s

# Avoid banning admin subnets only; do not exclude all RFC1918 by default
# Adjust to your trusted management ranges (examples below):
ignoreip = 127.0.0.1/8 ::1
# To add trusted LAN ranges, uncomment and edit:
# ignoreip = 127.0.0.1/8 ::1 192.168.1.0/24 10.0.0.0/24
