# OpenSSH hardening for Ubuntu 24.04+ (OpenSSH 9.6+) with key-only auth
# Sources: Ubuntu Server Docs (OpenSSH), CIS Benchmarks (Ubuntu 24.04), OpenSSH manpages

# Authentication: enforce keys only
PubkeyAuthentication yes
PasswordAuthentication no

# Root login policy
PermitRootLogin no

# Optional: limit who can SSH (uncomment and manage group)
# AllowGroups ssh-users

# Conservative auth limits (tighter than defaults)
MaxAuthTries 3

# Strong host key (ed25519 only; Ubuntu 24+/macOS support this)
HostKey /etc/ssh/ssh_host_ed25519_key

# Reduce attack surface
X11Forwarding no
AllowAgentForwarding no
AllowTcpForwarding no

# Logging
LogLevel VERBOSE

# AcceptEnv may be disabled unless you rely on locale passing
# AcceptEnv LANG LC_*


